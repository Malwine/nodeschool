<!DOCTYPE html>
<html>
<body>

<p>A script on this page starts this clock:</p>

<form id="timerForm" action="">
  <label>Timer - Sekunden einstellen:</label>
  <input id="seconds" type="text" name="seconds" value="0"><br>
  <input type="submit" value="Start">
</form>

<button id="resetButton" type="button" name="button">Reset</button>
<h2>Du hast noch <strong id="minutes-left"></strong> Sekunden</h2>

<script>

function getTimeRemaining(seconds){
  //var remaining = Math.floor( seconds % 60 );
  return seconds - 1;
}

function countdown(event) {
    event.preventDefault();
    var seconds = window.document.getElementById('seconds').value;
    var input = window.document.getElementById('minutes-left');
    input.innerHTML = seconds;
    console.log('seconds:' + seconds);

    var interval = setInterval(function(){
      if (seconds <= 4) {
        document.body.style.background = "#ff0000";
      }

      if ( seconds <= 0 ) {
          clearInterval(interval);
        }
        else {
          var t = getTimeRemaining(seconds);
          seconds = t;
          console.log('time remaining:' + t);
          var secondsLeft = window.document.getElementById('minutes-left');
          secondsLeft.innerHTML = t;
        }
      }, 1000);

      console.log('Interval:' + interval);
}

function reset() {
  document.body.style.background = "#FFFFFF";
  window.document.getElementById('seconds').value = 0;
}

var timerElement = window.document.getElementById('timerForm');
timerElement.addEventListener('submit', countdown);

var resetButton = window.document.getElementById('resetButton');
resetButton.addEventListener('click', reset);

</script>

</body>
</html>
